<PAPER>
	<ABSTRACT>
		<S sid ="1" ssid = "1">We present a hybrid natural language generation (NLG) system that consolidates macro and micro planning and surface realization tasks into one statistical learning process.</S>
		<S sid ="2" ssid = "2">Our novel approach is based on deriving a template bank automatically from a corpus of texts from a target domain.</S>
		<S sid ="3" ssid = "3">First, we identify domain specific entity tags and Discourse Representation Structures on a per sentence basis.</S>
		<S sid ="4" ssid = "4">Each sentence is then organized into semantically similar groups (representing a domain specific concept) by k-means clustering.</S>
		<S sid ="5" ssid = "5">After this semiautomatic processing (human review of cluster assignments), a number of corpus–level statistics are compiled and used as features by a ranking SVM to develop model weights from a training corpus.</S>
		<S sid ="6" ssid = "6">At generation time, a set of input data, the collection of semantically organized templates, and the model weights are used to select optimal templates.</S>
		<S sid ="7" ssid = "7">Our system is evaluated with automatic, non–expert crowdsourced and expert evaluation metrics.</S>
		<S sid ="8" ssid = "8">We also introduce a novel automatic metric – syntactic variability – that represents linguistic variation as a measure of unique template sequences across a collection of automatically generated documents.</S>
		<S sid ="9" ssid = "9">The metrics for generated weather and biography texts fall within acceptable ranges.</S>
		<S sid ="10" ssid = "10">In sum, we argue that our statistical approach to NLG reduces the need for complicated knowledge-based architectures and readily adapts to different domains with reduced development time.</S>
		<S sid ="11" ssid = "11">∗*Ravi Kondadadi is now affiliated with Nuance Communications, Inc.</S>
	</ABSTRACT>
	<SECTION title="Introduction" number = "1">
			<S sid ="12" ssid = "12">NLG is the process of generating natural-sounding text from non-linguistic inputs.</S>
			<S sid ="13" ssid = "13">A typical NLG system contains three main components: (1) Document (Macro) Planning - deciding what content should be realized in the output and how it should be structured; (2) Sentence (Micro) planning - generating a detailed sentence specification and selecting appropriate referring expressions; and (3) Surface Realization - generating the final text after applying morphological modifications based on syntactic rules (see e.g., Bateman and Zock (2003), Reiter and Dale (2000) and McKeown (1985)).</S>
			<S sid ="14" ssid = "14">However, document planning is arguably one of the most crucial components of an NLG system and is responsible for making the texts express the desired communicative goal in a coherent structure.</S>
			<S sid ="15" ssid = "15">If the document planning stage fails, the communicative goal of the generated text will not be met even if the other two stages are perfect.</S>
			<S sid ="16" ssid = "16">While most traditional systems simplify development by using a pipelined approach where (13) are executed in a sequence, this can result in errors at one stage propagating to successive stages (see e.g., Robin and McKeown (1996)).</S>
			<S sid ="17" ssid = "17">We propose a hybrid framework that combines (13) by converting data to text in one single process.</S>
			<S sid ="18" ssid = "18">Most NLG systems fall into two broad categories: knowledge-based and statistical.</S>
			<S sid ="19" ssid = "19">Knowledge-based systems heavily depend on having domain expertise to come up with handcrafted rules at each stage of a pipeline.</S>
			<S sid ="20" ssid = "20">Although knowledge-based systems can produce high quality text, they are (1) very expensive to build, involving a lot of discussion with the end users of the system for the document planning stage alone; (2) have limited linguistic coverage, as it is time consuming to capture linguistic variation; and (3) one has to start from scratch for each new domain because the developed components cannot be reused.</S>
			<S sid ="21" ssid = "21">1406 Proceedings of the 51st Annual Meeting of the Association for Computational Linguistics, pages 1406–1415, Sofia, Bulgaria, August 49 2013.</S>
			<S sid ="22" ssid = "22">Qc 2013 Association for Computational Linguistics Statistical systems, on the other hand, are fairly inexpensive, more adaptable and rely on having historical data for the given domain.</S>
			<S sid ="23" ssid = "23">Coverage is likely to be high if more historical data is available.</S>
			<S sid ="24" ssid = "24">The main disadvantage with statistical systems is that they are more prone to errors and the output text may not be coherent as there are less constraints on the generated text.</S>
			<S sid ="25" ssid = "25">Our framework is a hybrid of statistical and template-based systems.</S>
			<S sid ="26" ssid = "26">Many knowledge-based systems use templates to generate text.</S>
			<S sid ="27" ssid = "27">A template structure contains “gaps” that are filled to generate the output.</S>
			<S sid ="28" ssid = "28">The idea is to create a lot of templates from the historical data and select the right template based on some constraints.</S>
			<S sid ="29" ssid = "29">To the best of our knowledge, this is the first hybrid statistical-template-based system that combines all three stages of NLG.</S>
			<S sid ="30" ssid = "30">Experiments with different variants of our system (for biography and weather subject matter domains) demonstrate that our system generates reasonable texts.</S>
			<S sid ="31" ssid = "31">Also, in addition to the standard metrics used to evaluate NLG systems (e.g., BLEU, NIST, etc.), we present a unique text evaluation metric called syntactic variability to measure the linguistic variation of generated texts.</S>
			<S sid ="32" ssid = "32">This metric applies to the document collection level and is based on computing the number of unique template sequences among all the generated texts.</S>
			<S sid ="33" ssid = "33">A higher number indicates the texts are more variable and natural- sounding whereas a lower number shows they are more redundant.</S>
			<S sid ="34" ssid = "34">We argue that this metric is useful for evaluating template-based systems and for any type of text generation for domains where linguistic variability is favored (e.g., the user is expected to go through more than one document in the same session).</S>
			<S sid ="35" ssid = "35">The main contributions of this paper are (1) A statistical NLG system that combines document and sentence planning and surface realization into one single process; and (2) A new metric – syntactic variability – is proposed to measure the syntactic and morphological variability of the generated texts.</S>
			<S sid ="36" ssid = "36">We believe this is the first work to propose an automatic metric to measure linguistic variability of generated texts in NLG.</S>
			<S sid ="37" ssid = "37">Section 2 provides an overview of related work on NLG.</S>
			<S sid ="38" ssid = "38">We present our main system in Section 3.</S>
			<S sid ="39" ssid = "39">The system is evaluated and discussed in Section 4.</S>
			<S sid ="40" ssid = "40">Finally, we conclude in Section 5 and point out.</S>
			<S sid ="41" ssid = "41">future directions of research.</S>
	</SECTION>
	<SECTION title="Background. " number = "2">
			<S sid ="42" ssid = "1">Typically, knowledge-based NLG systems are implemented by rules and, as mentioned above, have a pipelined architecture for the document and sentence planning stages and surface realization (Hovy, 1993; Moore and Paris, 1993).</S>
			<S sid ="43" ssid = "2">However, document planning is arguably the most important task (Sripada et al., 2001).</S>
			<S sid ="44" ssid = "3">It follows that approaches to document planning are rule-based as well and, concomitantly, are usually domain specific.</S>
			<S sid ="45" ssid = "4">For example, BouayadAgha, et al.</S>
			<S sid ="46" ssid = "5">(2011) proposed document planning based on an ontology knowledge base to generate football summaries.</S>
			<S sid ="47" ssid = "6">For rule–based systems, rules exist for selecting content to grammatical choices to post- processing (e.g., pronoun generation).</S>
			<S sid ="48" ssid = "7">These rules are often tailored to a given system, with input from multiple experts; consequently, there is a high associated development cost (e.g., 12 person months for the SUMTIMEMETEO system (Belz, 2007)).</S>
			<S sid ="49" ssid = "8">Statistical approaches can reduce extensive development time by relying on corpus data to “learn” rules for one or more components of an NLG system (Langkilde and Knight, 1998).</S>
			<S sid ="50" ssid = "9">For example, Duboue and McKeown (2003) proposed a statistical approach to extract content selection rules for biography descriptions.</S>
			<S sid ="51" ssid = "10">Further, statistical approaches should be more adaptable to different domains than their rule-based equivalents (An- geli et al., 2012).</S>
			<S sid ="52" ssid = "11">For example, Barzilay and Lap- ata (2005) formulated content selection as a classification task to produce football summaries and Kelly et al.</S>
			<S sid ="53" ssid = "12">(2009) extended Barzilay and Lapata’s approach for generating match reports for cricket.</S>
			<S sid ="54" ssid = "13">The present work builds on Howald et al.</S>
			<S sid ="55" ssid = "14">(2013) where, in a given corpus, a combination of domain specific named entity tagging and clustering sentences (based on semantic predicates) were used to generate templates.</S>
			<S sid ="56" ssid = "15">However, while the system consolidated both sentence planning and surface realization with this approach (described in more detail in Section 3), the document plan was given via the input data and sequencing information was present in training documents.</S>
			<S sid ="57" ssid = "16">For the present research, we introduce a similar method that leverages the distributions of document–level features in the training corpus to incorporate a statistical document planning component.</S>
			<S sid ="58" ssid = "17">Consequently, we are able to create a streamlined statistical NLG architecture that balances natural human–like variability with appropriate and accurate information.</S>
	</SECTION>
	<SECTION title="Methodology. " number = "3">
			<S sid ="59" ssid = "1">In order to generate text for a given domain our system runs input data through a statistical ranking model to select a sequence of templates that best fit the input data (E).</S>
			<S sid ="60" ssid = "2">In order to build the ranking model, our system takes historical data (corpus) for the domain through four components: (A) preprocessing; (B) “conceptual unit” creation; (C) collecting statistics; and (D) ranking model building (summarized in Figure 1).</S>
			<S sid ="61" ssid = "3">In this section, we describe each component in detail.</S>
			<S sid ="62" ssid = "4">Figure 1: System Architecture.</S>
			<S sid ="63" ssid = "5">3.1 Preprocessing.</S>
			<S sid ="64" ssid = "6">The first component processes the given corpus to extract templates.</S>
			<S sid ="65" ssid = "7">We assume that each document in the corpus is classified to a specific domain.</S>
			<S sid ="66" ssid = "8">Preprocessing involves uncovering the underlying semantic structure of the corpus and using this as a foundation for template creation (Lu et al., 2009; Lu and Ng, 2011; Konstas and Lapata, 2012).</S>
			<S sid ="67" ssid = "9">We first split each document in the corpus into sentences and create a shallow Discourse Representation Structure (following Discourse Representation Theory (Kamp and Reyle, 1993)) of each sentence.</S>
			<S sid ="68" ssid = "10">The DRS consists of semantic predicates and named entity tags.</S>
			<S sid ="69" ssid = "11">We use Boxer semantic analyzer (Bos, 2008) to extract semantic predicates such as EVENT or DATE.</S>
			<S sid ="70" ssid = "12">In parallel, domain specific named entity tags are identified and, in conjunction with the semantic predicates, are used to create templates.</S>
			<S sid ="71" ssid = "13">We developed the named-entity tagger for the weather domain ourselves.</S>
			<S sid ="72" ssid = "14">To tag entities in the biography domain, we used OpenCalais (www.opencalais.com).</S>
			<S sid ="73" ssid = "15">For example, in the biography in (1), the conceptual meaning (semantic predicates and domain-specific entities) of sentences (a-b) are represented in (c-d).</S>
			<S sid ="74" ssid = "16">The corresponding templates are showing in (e-f).</S>
			<S sid ="75" ssid = "17">(1) Sentence a. Mr. Mitsutaka Kambe has been serving as Managing Director of the 77 Bank, Ltd. since June 27, 2008.</S>
			<S sid ="76" ssid = "18">b. He holds a Bachelor’s in finance from USC and a MBA from UCLA.</S>
			<S sid ="77" ssid = "19">Conceptual Meaning c. SERVING | TITLE | PERSON | COMPANY | DATE d. HOLDS | DEGREE | SUBJECT | INSTITUTION| EVENT Templates e. [person] has been serving as [title] of the [company] since [date].</S>
			<S sid ="78" ssid = "20">f. [person] holds a [degree] in [subject] from [institution] and a [degree] from [institution].</S>
			<S sid ="79" ssid = "21">The outputs of the preprocessing stage are the template bank and predicate information for each template in the corpus.1 3.2 Creating Conceptual Units.</S>
			<S sid ="80" ssid = "22">The next step is to create conceptual units for the corpus by clustering templates.</S>
			<S sid ="81" ssid = "23">This is a semiautomatic process where we use the predicate information for each template to compute similarity between templates.</S>
			<S sid ="82" ssid = "24">We use k-means clustering with k (equivalent to the number of semantic concepts in the domain) set to an arbitrarily high value (100) to over-generate (using the WEKA toolkit (Witten and Frank, 2005)).</S>
			<S sid ="83" ssid = "25">This allows for easier manual verification of the generated clusters and we merge them if necessary.</S>
			<S sid ="84" ssid = "26">We assign a unique identifier called a CuId (Conceptual Unit Identifier) to each cluster, which represents a “conceptual unit”.</S>
			<S sid ="85" ssid = "27">We associate each template in the corpus to a corresponding CuId.</S>
			<S sid ="86" ssid = "28">For example, in (2), using the templates in (1e-f), the identified named entities are assigned to a clustered CuId (2a-b).</S>
			<S sid ="87" ssid = "29">(2) Conceptual Units a. {C uI d : 000} – [person] has been serving as [title] of the [company] since [date].</S>
			<S sid ="88" ssid = "30">b. {C uI d : 001} – [person] holds a [degree] in [subject] from [institution] and a [degree] from [institution].</S>
			<S sid ="89" ssid = "31">At this stage, we will have a set of conceptual units with corresponding template collections (see Howald et al.</S>
			<S sid ="90" ssid = "32">(2013) for a further explanation of Sections 3.13.2).</S>
			<S sid ="91" ssid = "33">1 A similar approach to the clustering of semantic content is found in Duboue and McKeown (2003), where text with stopwords removed were used as semantic input.</S>
			<S sid ="92" ssid = "34">Boxer provides a similar representation with the addition of domain general tags.</S>
			<S sid ="93" ssid = "35">However, to contrast our work from Duboue and McKeown, which focused on content selection, we are focused on learning templates from the semantic representations for the complete generation system (covering content selection, aggregation, sentence and document planning).</S>
			<S sid ="94" ssid = "36">3.3 Collecting Corpus Statistics.</S>
			<S sid ="95" ssid = "37">After identifying the different conceptual units and the template bank, we collect a number of statistics from the corpus: • Frequency distribution of templates overall and per position • Frequency distribution of CuIds overall and per position • Average number of entity tags by CuId as well as the entity distribution by CuId • Average number of entity tags by position as well as the entity distribution by position • Average number of words per CuId.</S>
			<S sid ="96" ssid = "38">• Average number of words per CuId and position combination.</S>
			<S sid ="97" ssid = "39">• Average number of words per position • Frequency distribution of the main verbs by position • Frequency distribution of CuId sequences (bigrams and trigrams only) overall and per position • Frequency distribution of template sequences (bigrams and trigrams only) overall and per position • Frequency distribution of entity tag sequences overall and per position • The average, minimum, maximum number of CuIds across all documents As discussed in the next section, these statistics are turned into features used for building a ranking model in the next component.</S>
			<S sid ="98" ssid = "40">3.4 Building a ranking model.</S>
			<S sid ="99" ssid = "41">The core component of our system is a statistical model that ranks a set of templates for a given position (sentence 1, sentence 2, ..., sentence n) based on the input data.</S>
			<S sid ="100" ssid = "42">The input data in our tasks was extracted from a training document; this serves as a temporary surrogate to a database.</S>
			<S sid ="101" ssid = "43">The task is to learn the ranks of all the templates from all CuIds at each position.</S>
			<S sid ="102" ssid = "44">To generate the training data, we first filter the templates that have named entity tags not specified in the input data.</S>
			<S sid ="103" ssid = "45">This will make sure the generated text does not have any unfilled entity tags.</S>
			<S sid ="104" ssid = "46">We then rank templates according to the Levenshtein edit distance (Levenshtein, 1966) from the template corresponding to the current sentence in the training document (using the top 10 ranked templates in training for ease of processing effort).</S>
			<S sid ="105" ssid = "47">We experimented with other ranking schemes such as entity-based similarity (similarity between entity sequences in the templates) and a combination of edit-distance based and entity-based similarities.</S>
			<S sid ="106" ssid = "48">We obtained better results with edit distance.</S>
			<S sid ="107" ssid = "49">For each template, we generate the following features to build the ranking model.</S>
			<S sid ="108" ssid = "50">Most of the features are based on the corpus statistics mentioned above.</S>
			<S sid ="109" ssid = "51">• CuId given position: This is a binary feature where the current CuId is either the same as the most frequent CuId for the position (1) or not (0).</S>
			<S sid ="110" ssid = "52">• Overlap of named entities: Number of common entities between current CuId and most likely CuId for the position • Prior template: Probability of the sequence of templates selected at the previous position and the current template (iterated for the last three positions).</S>
			<S sid ="111" ssid = "53">• Prior CuId: Probability of the sequence of the CuId selected at the previous position and the current CuId (iterated for the last three positions).</S>
			<S sid ="112" ssid = "54">• Difference in number of words: Absolute difference between number of words for current template and average number of words for the CuId • Difference in number of words given position: Absolute difference between number of words for current template and average number of words for CuId at given position • Percentage of unused data: This feature represents the portion of the unused input so far.</S>
			<S sid ="113" ssid = "55">• Difference in number of named entities: Absolute difference between the number of named entities in the current template and the average number of named entities for the current position • Most frequent verb for the position: Binary valued feature where the main verb of the template belongs to the most frequent verb group given the position is either the same (1) or not (0).</S>
			<S sid ="114" ssid = "56">• Average number of words used: Ratio of number of words in the generated text so far to the average number of words.</S>
			<S sid ="115" ssid = "57">• Average number of entities: Ratio of number of named entities in the generated text so far to the average number of named entities.</S>
			<S sid ="116" ssid = "58">• Most likely CuId given position and previous CuId: Binary feature indicating if the current CuId is most likely given the position and the previous CuId.</S>
			<S sid ="117" ssid = "59">• Similarity between the most likely template in CuId and current template: Edit distance between the current template and the most likely template for the current CuId.</S>
			<S sid ="118" ssid = "60">• Similarity between the most likely template in CuId given position and current template: Edit distance between the current template and the most likely template for the current CuId at the current position.</S>
			<S sid ="119" ssid = "61">We used a linear kernel for a ranking SVM (Joachims, 2002) (cost set to total queries) to learn the weights associated with each feature for the different domains.</S>
			<S sid ="120" ssid = "62">3.5 Generation.</S>
			<S sid ="121" ssid = "63">At generation time, our system has a set of input data, a semantically organized template bank (collection of templates organized by CuId) and a model from training on the documents for a given domain.</S>
			<S sid ="122" ssid = "64">We first filter out those templates that contain a named entity tag not present in the input data.</S>
			<S sid ="123" ssid = "65">Then, we compute a score for each of the remaining templates from the feature values and the feature weights from the model.</S>
			<S sid ="124" ssid = "66">The template with the highest overall score is selected and filled with matching entity tags from the input data and appended to the generated text.</S>
			<S sid ="125" ssid = "67">Before generating the next sentence, we track those entities used in the initial sentence generation and decide to either remove those entities from the input data or keep the entity for one or more additional sentence generations.</S>
			<S sid ="126" ssid = "68">For example, in the biography discourses, the name of the person may occur only once in the input data, but it may be useful for creating good texts to have that person’s name available for subsequent generations.</S>
			<S sid ="127" ssid = "69">To illustrate in (3), if we remove James Smithton from the input data after the initial generation, an irrelevant sentence (d) is generated as the input data will only have one company after the removal of James Smithton and the model will only select a template with one company.</S>
			<S sid ="128" ssid = "70">If we keep James Smithton, then the generations in (a-b) are more cohesive.</S>
			<S sid ="129" ssid = "71">(3) Use more than once a. Mr. James Smithton was appointed CFO at Fordway Internation in April.</S>
			<S sid ="130" ssid = "72">b. Previously, Mr. Smithton was CFO of the Keyes Development Group.</S>
			<S sid ="131" ssid = "73">Use once and remove c. Mr. James Smithton was appointed CFO at Fordway Internation in April.</S>
			<S sid ="132" ssid = "74">d. Keyes Development Group is a venture capital firm.</S>
			<S sid ="133" ssid = "75">Deciding on what type of entities and how to remove them is different for each domain.</S>
			<S sid ="134" ssid = "76">For example, some entities are very unique to a text and should not be made available for subsequent generations as doing so would lead to unwanted redundancies (e.g., mentioning the name of current company in a biography discourse more than once as in (3)) and some entities are general and should be retained.</S>
			<S sid ="135" ssid = "77">Our system possesses the ability to monitor the data usage from historical data and we can set parameters (based on the distribution of entities) on the usage to ensure coherent generations for a given domain.</S>
			<S sid ="136" ssid = "78">Once the input data has been modified (i.e., an entity have been removed, replaced or retained), it serves as the new input data for the next sentence generation.</S>
			<S sid ="137" ssid = "79">This process repeats until reaching the minimum number of sentences for the domain (determined from the training corpus statistic) and then continues until all of the remaining input data is consumed (and not to exceed the predetermined maximum number of sentences, also determined from the training corpus statistic).</S>
	</SECTION>
	<SECTION title="Evaluation and Discussion. " number = "4">
			<S sid ="138" ssid = "1">In this section, we first discuss the corpus data used to train and generate texts.</S>
			<S sid ="139" ssid = "2">Then, the results of both automatic and human evaluations of our system’s generations against the original and baseline texts are considered as a means of determining performance.</S>
			<S sid ="140" ssid = "3">For all experiments reported in this section, the baseline system selects the most frequent conceptual unit at the given position, chooses the most likely template for the conceptual unit, and fills the template with input data.</S>
			<S sid ="141" ssid = "4">The above process is repeated until the number of sentences is less than or equal to the average number of sentences for the given domain.</S>
			<S sid ="142" ssid = "5">4.1 Data.</S>
			<S sid ="143" ssid = "6">We ran our system on two different domains: corporate officer and director biographies and offshore oil rig weather reports from the SUMTIMEMETEO corpus ((Reiter et al., 2005)).</S>
			<S sid ="144" ssid = "7">The biography domain includes 1150 texts ranging from 317 sentences and the weather domain includes 1045 weather reports ranging from 16 sentences.2 We used a training-test(generation) split of 70/30.</S>
			<S sid ="145" ssid = "8">(4) provides generation comparisons for the system ( DocSys), baseline ( DocBase) and original ( DocOrig) randomly selected text snippets from each domain.</S>
			<S sid ="146" ssid = "9">The variability of the generated texts ranges from a close similarity to slightly shorter - not an uncommon (Belz and Reiter, 2006), but not necessarily detrimental, observation for NLG systems (van Deemter et al., 2005).</S>
			<S sid ="147" ssid = "10">(4) Weather DocOrig a. Another weak cold front will move ne to Cornwall by later Friday.</S>
			<S sid ="148" ssid = "11">Weather DocSys b. Another weak cold front will move ne to Cornwall during Friday.</S>
			<S sid ="149" ssid = "12">Weather DocBase c. Another weak cold front from ne through the Cornwall will remain slow moving.</S>
			<S sid ="150" ssid = "13">Bio DocOrig d. He previously served as Director of Sales Planning and Manager of Loan Center.</S>
			<S sid ="151" ssid = "14">Bio DocSys e. He previously served as Director of Sales in Loan Center of the Company.</S>
			<S sid ="152" ssid = "15">Bio DocBase 2 The SUMTIMEMETEO project is a common bench mark in NLG.</S>
			<S sid ="153" ssid = "16">However, we provide no comparison between our system and SUMTIMEMETEO as our system utilized the generated forecasts from SUMTIMEMETEO’s system as the historical data.</S>
			<S sid ="154" ssid = "17">We cannot compare with other statistical generation systems like (Belz, 2007) as they only focussed on the part of the forecasts the predicts wind characteristics whereas our system generates the complete forecasts.</S>
			<S sid ="155" ssid = "18">f. He previously served as Director of Sales of the Company.</S>
			<S sid ="156" ssid = "19">The DocSys and DocBase generations are largely grammatical and coherent on the surface with some variance, but there are graded semantic variations (e.g., Director of Sales Planning vs. Director of Sales (4g-h) and move ne to Cornwall vs. from ne through the Cornwall).</S>
			<S sid ="157" ssid = "20">Both automatic and human evaluations are required in NLG to determine the impact of these variances on the under- standability of the texts in general (non-experts) and as they are representative of particular subject matter domains (experts).</S>
			<S sid ="158" ssid = "21">The following sections discuss the evaluation results.</S>
			<S sid ="159" ssid = "22">4.2 Automatic Metrics.</S>
			<S sid ="160" ssid = "23">We used BLEU–4 (Papineni et al., 2002), METEOR (v.1.3) (Denkowski and Lavie, 2011) to evaluate the texts at document level.</S>
			<S sid ="161" ssid = "24">Both BLEU–4 and METEOR originate from machine translation research.</S>
			<S sid ="162" ssid = "25">BLEU–4 measures the degree of 4-gram overlap between documents.</S>
			<S sid ="163" ssid = "26">METEOR uses a unigram weighted f–score less a penalty based on chunking dissimilarity.</S>
			<S sid ="164" ssid = "27">These metrics only evaluate the text on a document level but fail to identify “syntactic repetitiveness” across documents in a document collection.</S>
			<S sid ="165" ssid = "28">This is an important characteristic of a document collection to avoid banality.</S>
			<S sid ="166" ssid = "29">To address this issue, we propose a new automatic metric called syntactic variability.</S>
			<S sid ="167" ssid = "30">In order to compute this metric, each document should be represented as a sequence of templates by associating each sentence in the document with a template in the template bank.</S>
			<S sid ="168" ssid = "31">Syntactic variability is defined as the percentage of unique template sequences across all generated documents.</S>
			<S sid ="169" ssid = "32">It ranges between 0 and 1.</S>
			<S sid ="170" ssid = "33">A higher value indicates that more documents in the collection are linguistically different from each other and a value closer to zero shows that most of documents have the similar language despite different input data.3 As indicated in Figure 2, the BLEU4 scores are low for all DocSys and DocBase generations (as compared to DocOrig) for each domain.</S>
			<S sid ="171" ssid = "34">However, the METEOR scores, while low overall (ranging from .201-.437) are noticeably increased over BLEU4 (which ranges from .199-.320).</S>
			<S sid ="172" ssid = "35">Given the nature of each metric, the results indicate that the generated and baseline texts have Figure 2: Automatic Evaluations.</S>
			<S sid ="173" ssid = "36">very different surface realizations compared to the originals (low BLEU4), but are still capturing the content of the originals (higher METEOR).</S>
			<S sid ="174" ssid = "37">Both BLEU–4 and METEOR measure the similarity of the generated text to the original text, but fail to penalize repetitiveness across texts, which is addressed by the syntactic variability metric.</S>
			<S sid ="175" ssid = "38">There is no statistically significant difference between DocSys and DocBase generations for METEOR and BLEU–4.4 However, there is a statistically significant difference in the syntactic variability metric for both domains (weather - χ2=137.16, d.f.=1, p&lt;.0001; biography - χ2=96.641, d.f.=1, p&lt;.0001) - the variability of the DocSys generations is greater than the DocBase generations, which shows that texts generated by our system are more variable than the baseline texts.</S>
			<S sid ="176" ssid = "39">The use of automatic metrics is a common evaluation method in NLG, but they must be reconciled against non–expert and expert level evaluations.</S>
			<S sid ="177" ssid = "40">4.3 Non-Expert Human Evaluations.</S>
			<S sid ="178" ssid = "41">Two sets of crowdsourced human evaluation tasks (run on CrowdFlower) were constructed to compare against the automatic metrics: (1) an under- standability evaluation of the entire text on a three- point scale: Fluent = no grammatical or informative barriers; Understandable = some grammatical or informative barriers; Disfluent = significant grammatical or informative barriers; and (2) a sentence–level preference between sentence pairs (e.g., “Do you prefer Sentence A (from Do- cOrig) or the corresponding Sentence B (from DocBase/DocSys)”).</S>
			<S sid ="179" ssid = "42">3 Of course, syntactic and semantic repetitiveness could be.</S>
			<S sid ="180" ssid = "43">captured by syntactic variability, but only if this is the nature of the underlying historical data - financial texts tend to be fairly repetitive.</S>
			<S sid ="181" ssid = "44">4 BLEU–4: weather - χ2 =1.418, d.f.=1, p=.230; biography.</S>
			<S sid ="182" ssid = "45">- χ2 =0.311, d.f.=1, p=.354.</S>
			<S sid ="183" ssid = "46">METEOR: weather - χ2 =1.016, d.f.=1, p=.313; biography - χ2 =0.851, d.f.=1, p=.354.</S>
			<S sid ="184" ssid = "47">Over 100 native English speakers contributed, each one restricted to providing no more than 50 responses and only after they successfully answered 4 “gold data” questions correctly.</S>
			<S sid ="185" ssid = "48">We also omitted those evaluators with a disproportionately high response rate.</S>
			<S sid ="186" ssid = "49">No other data was collected on the contributors (although geographic data (country, region, city) and IP addresses were available).</S>
			<S sid ="187" ssid = "50">For the sentence–level preference task, the pair orderings were randomized to prevent click bias.</S>
			<S sid ="188" ssid = "51">For the text–understandability task, 40 documents were chosen at random from the DocOrig test set along with the corresponding 40 Doc- Sys and DocBase generations (240 documents total/120 for each domain).</S>
			<S sid ="189" ssid = "52">8 judgments per document were solicited from the crowd (1920 total judgments, 69.51 average agreement) and are summarized in Figures 3 and 4 (biography and weather respectively).</S>
			<S sid ="190" ssid = "53">If the system is performing well and the ranking model is actually contributing to increased performance, the accepted trend should be that the DocOrig texts are more fluent and preferred compared to both the DocSys and DocBase systems.</S>
			<S sid ="191" ssid = "54">However, the differences between DocOrig and DocSys will not be significant, the differences between DocOrig and DocBase and DocSys and DocBase will be significantly different.</S>
			<S sid ="192" ssid = "55">Figure 3: Biography Text Evaluations.</S>
			<S sid ="193" ssid = "56">Focusing on fluency ratings, it is expected that the DocOrig generations will have the highest fluency (as they are human generated).</S>
			<S sid ="194" ssid = "57">Further, if the DocSys is performing well, it is expected that the fluency rating will be less than the DocOrig and higher than DocBase.</S>
			<S sid ="195" ssid = "58">Figure 3, which shows the biography text evaluations, demonstrates this acceptable distribution of performances.</S>
			<S sid ="196" ssid = "59">For the weather discourses, as evident from Figure 4, the acceptable trend holds between the DocSys and DocBase generations, and the Doc- Sys generation fluency is actually slightly higher than DocOrig.</S>
			<S sid ="197" ssid = "60">This is possibly because the Do- cOrig texts are from a particular subject matter - weather forecasts for offshore oil rigs in the U.K. - which may be difficult for people in general to understand.</S>
			<S sid ="198" ssid = "61">Nonetheless, the demonstrated trend is favorable to our system.</S>
			<S sid ="199" ssid = "62">In terms of significance, there are no statistically significant differences between the systems for weather (DocOrig vs. DocSys - χ2=.347, d.f.=1, p=.555; DocOrig vs. DocBase - χ2=.090, d.f.=1, p=.764; DocSys vs. DocBase - χ2=.790, d.f.=1, p=.373).</S>
			<S sid ="200" ssid = "63">While this is a good result for comparing DocOrig and DocSys generations, it is not for the other pairs.</S>
			<S sid ="201" ssid = "64">However, numerically, the trend is in the right direction despite not being able to demonstrate significance.</S>
			<S sid ="202" ssid = "65">For biography, the trend fits nicely both numerically and in terms of statistical significance (DocOrig vs. DocSys - χ2=5.094, d.f.=1, p=.024; DocOrig vs. DocBase - χ2=35.171, d.f.=1, p&lt;.0001; DocSys vs. DocBase - χ2=14.000, d.f.=1, p&lt;.0001).</S>
			<S sid ="203" ssid = "66">Figure 4: Weather Text Evaluations.</S>
			<S sid ="204" ssid = "67">For the sentence preference task, equivalent sentences across the 120 documents were chosen at random (80 sentences from biography and 74 sentences from weather).</S>
			<S sid ="205" ssid = "68">8 judgments per comparison were solicited from the crowd (3758 total judgments, 75.87 average agreement) and are summarized in Figures 5 and 6 (biography and weather, respectively).</S>
			<S sid ="206" ssid = "69">Similar to the text–understandability task, an acceptable performance pattern should include the DocOrig texts being preferred to both DocSys and DocBase generations and the DocSys generation preferred to the DocBase.</S>
			<S sid ="207" ssid = "70">The closer the Doc- Sys generation is to the DocOrig, the better Doc- Sys is performing.</S>
			<S sid ="208" ssid = "71">The biography domain illus Figure 5: Biography Sentence Evaluations.</S>
			<S sid ="209" ssid = "72">trates this scenario (Figure 5) where the results are similar to the text-understandability experiments.</S>
			<S sid ="210" ssid = "73">In contrast, for weather domain, sentences from DocBase system were preferred to our system’s (Figure 6).</S>
			<S sid ="211" ssid = "74">We looked at the cases where the preferences were in favor of DocBase.</S>
			<S sid ="212" ssid = "75">It appears that because of high syntactic variability, our system can produce quite complex sentences where as the non-experts seem to prefer shorter and simpler sentences because of the complexity of the text.</S>
			<S sid ="213" ssid = "76">In terms of significance, there are no statistically significant differences between the systems for weather (DocOrig vs. DocSys - χ2=6.48, d.f.=1, p=.011; DocOrig vs. DocBase - χ2=.720, d.f.=1, p=.396; DocSys vs. DocBase - χ2=.720, d.f.=1, p=.396).</S>
			<S sid ="214" ssid = "77">The trend is different compared to the fluency metric above in that the DocBase system is outperforming the DocOrig generations to an almost statistically significant difference - the remaining comparisons follow the trend.</S>
			<S sid ="215" ssid = "78">We believe that this is for similar reasons stated above - i.e., the generation may be a more digestible version of a technical document.</S>
			<S sid ="216" ssid = "79">More problematic is the results of the biography evaluations.</S>
			<S sid ="217" ssid = "80">Here there is a statistically significant difference between the DocSys and DocOrig and no statistically significant difference between the Doc- Sys and DocBase generations (DocOrig vs. Doc- Sys - χ2=76.880, d.f.=1, p&lt;.0001; DocOrig vs. DocBase - χ2=38.720, d.f.=1, p&lt;.0001; DocSys vs. DocBase - χ2=.720, d.f.=1, p=.396).</S>
			<S sid ="218" ssid = "81">Again, this distribution of preferences is numerically similar to the trend we would like to see, but the statistical significance indicates that there is some ground to make up.</S>
			<S sid ="219" ssid = "82">Expert evaluations are potentially informative for identifying specific shortcomings and how best to address them.</S>
			<S sid ="220" ssid = "83">Figure 6: Weather Sentence Evaluations.</S>
			<S sid ="221" ssid = "84">4.4 Expert Human Evaluations.</S>
			<S sid ="222" ssid = "85">We performed expert evaluations for the biography domain only as we do not have access to weather experts.</S>
			<S sid ="223" ssid = "86">The four biography reviewers are journalists who write short biographies for news archives.</S>
			<S sid ="224" ssid = "87">For the biography domain, evaluations of the texts were largely similar to the evaluations of the non-expert crowd (76.22 average agreement for the sentence–preference task and 72.95 for the text–understandability task).</S>
			<S sid ="225" ssid = "88">For example, the dis- fluent ratings were highest for the DocBase generations and lowest for the DocOrig generations.</S>
			<S sid ="226" ssid = "89">Also, the fluent ratings were highest for the Do- cOrig generations, and while the combined fluent and understandable are higher for DocSys as compared to DocBase, the DocBase generations had a 10% higher fluent score (58.22%) as compared to the DocSys fluent score (47.97%).</S>
			<S sid ="227" ssid = "90">Based on notes from the reviewers, the succinctness of the the DocBase generations are preferred in some ways as they are in keeping with certain editorial standards.</S>
			<S sid ="228" ssid = "91">This is further reflected in the sentence preferences being 70% in favor of the DocBase generations as compared to the DocSys generations (all other sentence comparisons were consistent with the non-expert crowd).</S>
			<S sid ="229" ssid = "92">These expert evaluations provide much needed clarity to the NLG process.</S>
			<S sid ="230" ssid = "93">Overall, our system is generating clearly acceptable texts.</S>
			<S sid ="231" ssid = "94">Further, there are enough parameters inherent in the system to tune to different domain expectations.</S>
			<S sid ="232" ssid = "95">This is an encouraging result considering that no experts were involved in the development of the system - a key contrast to many other existing (especially rule-based) NLG systems.</S>
	</SECTION>
	<SECTION title="Conclusions and Future  Work. " number = "5">
			<S sid ="233" ssid = "1">We have presented a hybrid (template-based and statistical), single–staged NLG system that generates natural sounding texts and is domain– adaptable.</S>
			<S sid ="234" ssid = "2">Our experiments with both experts and non–experts demonstrate that the system-generated texts are comparable to human– authored texts.</S>
			<S sid ="235" ssid = "3">The development time to adapt our system to new domains is small compared to other NLG systems; around a week to adapt the system to weather and biography domains.</S>
			<S sid ="236" ssid = "4">Most of the development time was spent on creating the domain-specific entity taggers for the weather domain.</S>
			<S sid ="237" ssid = "5">The development time would be reduced to hours if the historical data for a domain is readily available with the corresponding input data.</S>
			<S sid ="238" ssid = "6">The main limitation of our system is that it requires significant historical data.</S>
			<S sid ="239" ssid = "7">Our system does consolidate many traditional components (macro- and micro-planning, lexical choice and aggregation),5 but the system cannot be applied to the domains with no historical data.</S>
			<S sid ="240" ssid = "8">The quality and the linguistic variability of the generated text is directly proportional to the amount of historical data available.</S>
			<S sid ="241" ssid = "9">We also presented a new automatic metric to evaluate generated texts at document collection level to identify boilerplate texts.</S>
			<S sid ="242" ssid = "10">This metric computes “syntactic repetitiveness” by counting the number of unique template sequences across the given document collection.</S>
			<S sid ="243" ssid = "11">Future work will focus on extending our framework by adding additional features to the model that could improve the quality of the generated text.</S>
			<S sid ="244" ssid = "12">For example, most NLG pipelines have a separate component responsible for referring expression generation (Krahmer and van Deemter, 2012).</S>
			<S sid ="245" ssid = "13">While we address the associated concern of data consumption in Section 3.5, we currently do not have any features that would handle referring expression generation.</S>
			<S sid ="246" ssid = "14">We believe that this is possible by identifying referring expressions in templates and adding features to the model to give higher scores to the templates having relevant referring expressions.</S>
			<S sid ="247" ssid = "15">We also would like to investigate using all the top-scored templates instead of the highest-scoring template.</S>
			<S sid ="248" ssid = "16">This would help achieve better syntactic-variability scores by producing more natural-sounding texts.</S>
			<S sid ="249" ssid = "17">5 Lexical choice and aggregation are “handled” insofar as their existence in the historical data.</S>
	</SECTION>
	<SECTION title="Acknowledgments">
			<S sid ="250" ssid = "18">This research is made possible by Thomson Reuters Global Resources (TRGR) with particular thanks to Peter Pircher, Jaclyn Sprtel and Ben Hachey for significant support.</S>
			<S sid ="251" ssid = "19">Thank you also to Khalid AlKofahi for encouragment, Leszek Michalak and Andrew Lipstein for expert evaluations and three anonymous reviewers for constructive feedback.</S>
	</SECTION>
</PAPER>
